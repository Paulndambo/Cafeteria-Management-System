<script>
    document.getElementById('printReceipt').addEventListener('click', function() {
        // Make an AJAX request to fetch the PDF
        fetch('/generate_receipt_pdf/{{ order.id }}/')
            .then(response => response.blob())
            .then(blob => {
                const url = window.URL.createObjectURL(blob);

                // Open a new window with the PDF
                window.open(url, '_blank');

                // Trigger the print dialog
                window.print();

                // Clean up
                window.URL.revokeObjectURL(url);
            });
    });
</script>
